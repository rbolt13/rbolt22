{
  "hash": "265a29b5110e52b7b57bf412e1ffbe42",
  "result": {
    "markdown": "---\ntitle: \"Bayes Rules! - Salt Lake City R User Group\"\ndate: \"2022-08-22\"\ncategories: [R]\ntoc: true\n---\n\n\n[Alicia Johnson](https://ajohns24.github.io/portfolio/) led this [R User Connect Philadelphia](https://wiki.r-consortium.org/view/R_Consortium_and_the_R_Community_Code_of_Conduct) to discus the book she co-authored, [Bayes Rules!](https://www.bayesrulesbook.com/).\n\n![](../../00_img/bayes-rules.jpeg)\n\n# `1.` About\n\n## `1.1. Alicia Johnson`\n\n* Statistics Professor.\n\n* Author of [Bayes Rules!](https://www.bayesrulesbook.com/).\n\n## `1.2. Materials`\n\n[Slides](https://docs.google.com/presentation/d/13SnjPZsJpJWBHimIhA2edBoQHIp0_1xkF-k2T8uj2pg/edit#slide=id.p)\n\n[Github Repository](https://github.com/ajohns24/r-ladies-philly)\n\n# `2.` Quiz\n\n## `2.1.` What does P(heads)=0.5 mean?\n  \na. If I flip this coin over and over, roughly 50% will be heads. \n\nb. Heads and Tails are equally plausible.\n\nc. Both a and b make sense. \n\n>Scores: a = 1, b = 3, c = 2 \n>\n>Majority Responses: C\n\na) Frequentist Philosophy \n\n    - long run outcome \n\nb) Bayesian Philosophy\n\n    - relative probability of events \n\nc) Pragmatic Philosophy \n\n    - both interpretations make sense\n    \n## `2.2` What does P(candidate A wins) = 0.8 mean?\n\na. If we observe this election over and over, candidate A will win roughly 80% of the time. \n\nb. Candidate A is much more likely to win than to lose (4 times more likely).\n\nc. The pollster's calculation is wrong. \n\n>Majority Response: B \n>\n>Scores: a = 1, b = 3, c = 1\n\na) Freq. \n\nb) Bayes \n\nc) Freq. \n\n    - the event cannot be repeated over and over again \n\n## `2.3` Alicia claims she can predict the outcome of a coin flip. Mine claims she can distinguish between a Crown Burger and a Vegan Alternative. Both succeed in 10 out of 10 trials. What do you conclude?\n\na. You're still more confident in Mine's claim than Alicia's claim.\n\nb. The evidence supporting Mine's claim. \n\n>Score: a = 3, b = 1\n\na) Bayes\n\nb) Freq. \n\n## `2.4` You've tested positive for a very rare genetic trait. If you only get to ask the doctor one question, which would it be?\n\na. P(rare trait|+)\n\nb. P(+| no rare trait)\n\n> Score: a = 3, b = 1 \n\na) Bayes\n\n    - asking about uncertainty of hypothesis given certainty of the data\n\n    - more natural question to ask \n\nb) Freq. = p-value \n\n    - hard to wrap minds around \n\n    - asking about uncertainty in data \n\n    - less natural question to ask (since data is certain)\n    \n# `3.` Bayes Rules Activity\n\n\n::: {.cell}\n\n:::\n\n\n## `3.1` Goals\n\n- Learn to think like Bayesians.\n\n- Apply Bayesian thinking in a regression setting.\n\n## `3.2` Set Up\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load packages\nlibrary(tidyverse)\nlibrary(tidybayes)\nlibrary(bayesrules)\nlibrary(bayesplot)\nlibrary(rstanarm)\nlibrary(broom.mixed)\n```\n:::\n\n\n## `3.3` Background\n\nLet $\\pi$ (\"pi\") be the proportion of U.S. adults that believe that climate change is real and caused by people. Thus $\\pi$ is some value between 0 and 1.\n\n## `3.4` Exercise 1: Specify a Prior Model\n\nThe first step in learning about $\\pi$ is to specify a **prior model** for $\\pi$ (i.e. prior to collecting any data). Suppose your friend specifies their understanding of $\\pi$ through the \"Beta(2, 20)\" model. Plot this Beta model and discuss what it tells you about your friend's prior understanding. For example:\n\n- What do they think is the most likely value of $\\pi$?    \n- What range of $\\pi$ values do they think are plausible?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_beta(alpha = 2, beta = 20)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){fig-pos='center' width=432}\n:::\n:::\n\n\nNotes:\n\n- proportion between 0 and 1 (not $-\\infty$ to $+\\infty$)\n\n- this model, beta-2-20, is right skewed \n\n### `3.4.1` What is your friend saying is the most likely value of pi?\n\nAbout .12 or 12 % or people believe in climate change. \n\n- spike of model is best estimate \n\n- looking at range the prior model drops off above .25, so you friend believes under 25% of people believe in climate change. \n\n## `3.5` Check Out Some Data\n\nThe second step in learning about $\\pi$, the proportion of U.S. adults that believe that climate change is real and caused by people, is to collect data. Your friend surveys 10 people and 6 believe that climate change is real and caused by people. The **likelihood function** of $\\pi$ plots the chance of getting this 6-out-of-10 survey result under different possible $\\pi$ values. Based on this plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_binomial_likelihood(y = 6, n = 10)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){fig-pos='center' width=432}\n:::\n:::\n\n\nNotes: \n\n- The next step after creating a model (beta-2-20) we collect data. \n\n- This plot is showing us what the chance is that we got these survey results under different possible pie values. \n\n### `3.5.1` With what values of $\\pi$ are the 6-out-of-10 results most consistent?\n\nApprox. 60% of people believe in climate change. Shown by our graph spiking at that value. \n\n### `3.5.2` For what values of $\\pi$ would these 6-out-of-10 results be *unlikely*?\n\nOur data would not be very likely to happen for values below .25 and above .9. \n\n## `3.6` Exercist 3: Build the Posterior Model\n\nIn a Bayesian analysis of $\\pi$, we build a *posterior* model of $\\pi$ by combining the prior model of $\\pi$ with the data (represented through the likelihood function). Plot all 3 components below. Summarize your observations:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_beta_binomial(alpha = 2, beta = 20, y = 6, n = 10)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-5-1.png){fig-pos='center' width=432}\n:::\n:::\n\n\nNotes:\n\n- Depends on a lot of factors \n\n### `3.6.1` What's your friend's posterior understanding of $\\pi$?\n\nMy friend's prior understanding of $\\pi$ is not as low as what it was before, but also not as high as what is suggested in the data.\n\n### `3.6.2` How does their posterior understanding compare to their prior and likelihood? Thus how does their posterior *balance* the prior and data?\n\nTheir posterior understanding is higher than their prior knowledge and likelihood. The density of their posterior knowledge is lower than their previous density. \n\n## `3.7` Exercise 4: Another Friend\n\nConsider another friend that saw the same 6-out-of-10 polling data but started with a Beta(1, 1) prior model for $\\pi$:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_beta(alpha = 1, beta = 1)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-6-1.png){fig-pos='center' width=432}\n:::\n:::\n\n\n### `3.7.1` Describe the new friend's understanding of $\\pi$. Compared to the first friend, are they more or less sure about $\\pi$?\n\nThis is a uniform distribution which maybe indicates the friend thinks everyone believes in Climate Change. \n\n### `3.7.2` Do you think the new friend will have a different posterior model than the first friend? If so, how do you think it will compare?\n\nYes, I think their posterior model will be higher than the first friend. \n\nTest your intuition. Use `plot_beta_binomial()` to explore your new friend's posterior model of $\\pi$.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_beta_binomial(alpha = 1, beta = 1, y = 6, n = 10)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-7-1.png){fig-pos='center' width=432}\n:::\n:::\n\n\nNotes:\n\n- This is a shoulder shrug, uncertain prior model. It could really be anything. \n\n## `3.8` Exercise 5: More Data\n\nTest your intuition. Use `plot_beta_binomial()` to explore your new friend's posterior model of $\\pi$.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"pulse_of_the_nation\")\npulse_of_the_nation %>% \n  count(climate_change)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 2\n  climate_change                    n\n  <fct>                         <int>\n1 Not Real At All                 150\n2 Real and Caused by People       655\n3 Real but not Caused by People   195\n```\n:::\n:::\n\n\n### `3.8.1` How do you think the additional data will impact your first friend's posterior understanding of $\\pi$? What about the second friend's?\n\nI think the first friends understanding of $\\pi$ would increase will increase, while the second friends understanding will decrease. \n\n### `3.8.2` Upon seeing the 1000-person survey results, do you think your two friends' posterior understandings of $\\pi$ will disagree a lot or a little?\n\nI think the two friends' posterior understanding will disagree a little. \n\nTest your intuition. Use `plot_beta_binomial()` to explore both friends' posterior models of $\\pi$.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# first friend \nplot_beta_binomial(alpha = 2, beta = 20, y = 655, n = 1000)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){fig-pos='center' width=432}\n:::\n\n```{.r .cell-code}\n# second friend \nplot_beta_binomial(alpha = 1, beta = 1, y = 655, n = 1000)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-2.png){fig-pos='center' width=432}\n:::\n:::\n\n\n## `3.9` Exercise 6: Your Turn\n\nLet $\\pi$ be the proportion of U.S. adults that believe in ghosts.\n\n1. Use `plot_beta()` to tune your prior model of $\\pi$. To this end, think about what values of $\\pi$ you think are most likely and how sure you are.\n\nNote:\n\n* `alpha` and `beta` must be positive. \n\n* The prior means falls at `alpha/(alpha + beta)`. Thus when `alpha` is smaller than `beta`, the prior mode falls below 0.5.\n\n* In general, the smaller the `alpha` and `beta`, the more variable / less certain the prior. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nbayesrules::plot_beta(alpha = 20, beta = 10)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-10-1.png){fig-pos='center' width=432}\n:::\n:::\n\n\n2. Collect some data. How many of the 1000 `pulse_of_the_nation` respondents believe in `ghosts`?\n\n\n::: {.cell}\n\n```{.r .cell-code}\npulse_of_the_nation %>% \n  count(ghosts)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 2\n  ghosts     n\n  <fct>  <int>\n1 No       621\n2 Yes      379\n```\n:::\n:::\n\n\n3. Use `plot_beta_binomial()` to visualize your prior, data, and posterior. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nbayesrules::plot_beta_binomial(alpha = 20, beta = 10, y = 378, n = 1000)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-12-1.png){fig-pos='center' width=432}\n:::\n:::\n\n\nCheck out the [Github Repository](https://github.com/ajohns24/r-ladies-philly) for Part 2: Apply Bayesian thinking to a regression model. ",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}